{% extends 'layout/layout.html' %} {% block content %}

<form
  method="post"
  action="/signup"
  id="imageFrm"
  enctype="multipart/form-data"
>
  <p class="title">프로필 이미지</p>
  <input type="file" name="upload" />
  <button type="submit">전송</button>
</form>

<form method="post" action="/signup" id="signupFrm">
  <h2 id="bannerText">회원가입</h2>
  <ul class="container">
    <li>
      <p class="title">아이디</p>
      <span
        ><input
          type="text"
          name="userid"
          id="userid"
          placeholder="아이디를 입력해주세요"
      /></span>
      <p class="alertMessage" style="opacity: 0; color: red">
        영문과 숫자를 사용하여 6~16자 사이로 입력해주세요
      </p>
    </li>
    <li>
      <p class="title">닉네임</p>
      <span
        ><input
          type="text"
          name="username"
          id="username"
          placeholder="닉네임을 입력해주세요"
      /></span>
      <p class="alertMessage" style="opacity: 0; color: red">
        특수문자를 제외하여 두 글자 이상으로 입력해주세요
      </p>
    </li>
    <li>
      <p class="title">비밀번호</p>
      <span
        ><input
          type="password"
          name="userpw"
          id="userpw"
          placeholder="비밀번호를 입력해주세요"
          maxlength="16"
      /></span>
      <p class="alertMessage" style="opacity: 0; color: red">
        영문, 숫자, 특수문자를 모두 혼합하여 8자 이상으로 써주세요
      </p>
    </li>
    <li>
      <p class="title">비밀번호 확인</p>
      <span
        ><input
          type="password"
          id="pwcheck"
          placeholder="비밀번호를 다시 한 번 입력해주세요"
          maxlength="16"
      /></span>
      <p class="alertMessage" style="opacity: 0; color: red">
        비밀번호가 일치하지 않습니다
      </p>
    </li>
    <li class="li_gender">
      <p class="title">성별</p>
      <select id="gender" class="inbox" name="gender">
        <option value="default" checked>선택</option>
        <option value="male">남성</option>
        <option value="female">여성</option>
      </select>
      <p class="alertMessage" style="opacity: 0; color: red">
        필수 선택사항입니다
      </p>
    </li>
    <li>
      <p class="title">생년월일</p>
      <input
        type="date"
        name="birth"
        id="birth"
        min="1900-01-01"
        max="2010-01-01"
        required
      />
      <p class="alertMessage" style="opacity: 0; color: red">
        필수 선택사항입니다
      </p>
    </li>
    <li>
      <p class="title">전화번호</p>
      <span><input type="tel" name="phoneNumber" id="phoneNumber" /></span>
      <p class="alertMessage" style="opacity: 0; color: red">
        "-"를 제외한 11자리의 숫자로 입력해주세요
      </p>
    </li>
    <li>
      <p class="title">이메일 주소</p>
      <span><input type="email" name="email" id="email" required /></span>
      <p class="alertMessage" style="opacity: 0; color: red">
        이메일 형식에 맞게 입력해주세요
      </p>
    </li>
  </ul>
  <button type="submit" class="button">등록하기</button>
</form>

<script type="text/javascript">
  const imageFrm = document.querySelector("#imageFrm");
  imageFrm.addEventListener("submit", async (e) => {
    e.preventDefault();

    // const { subject, upload } = e.target;

    const body = new FormData(e.target);
    const response = await axios.post("http://localhost:3001", body, {
      headers: {
        ["Content-type"]: "multipart/form-data",
      },
    });
    console.log(response);
  });
</script>

<script type="module" src="/js/module/join.js"></script>

{% endblock %}
